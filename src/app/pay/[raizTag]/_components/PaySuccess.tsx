"use client";
import Button from "@/components/ui/Button";
import { getCurrencySymbol } from "@/utils/helpers";
// import Image from "next/image";
import { motion } from "motion/react";
import React, { useEffect, useState } from "react";
import SideModalWrapper from "../../../(dashboard)/_components/SideModalWrapper";
import RaizReceipt from "@/components/transactions/RaizReceipt";
import { useSendStore } from "@/store/Send";
import { IBusinessPaymentData } from "@/types/services";
import Link from "next/link";

interface Props {
  data: IBusinessPaymentData;
  senderName: string;
}

const GetRaizedinfo = [
  {
    svg: (
      <svg width="30" height="30" viewBox="0 0 30 30" fill="none">
        <path
          opacity="0.45"
          d="M25.625 22.5C25.6038 22.5 25.3787 22.5 25 22.5V11.25H25.2638C26.4988 11.25 27.5 10.2487 27.5 9.01375C27.5 8.09875 26.9438 7.2775 26.0938 6.9375L16.6562 3.1625C15.5925 2.7375 14.405 2.7375 13.3413 3.1625L3.90375 6.9375C3.05625 7.2775 2.5 8.1 2.5 9.01375C2.5 10.2487 3.50125 11.25 4.73625 11.25H5V22.5C4.62125 22.5 4.39625 22.5 4.375 22.5C3.34 22.5 2.5 23.34 2.5 24.375C2.5 25.41 3.34 26.25 4.375 26.25C4.595 26.25 25.405 26.25 25.625 26.25C26.66 26.25 27.5 25.41 27.5 24.375C27.5 23.34 26.66 22.5 25.625 22.5Z"
          fill="#82B378"
        />
        <path
          d="M25.625 22.5005C25.845 22.5005 26.0538 22.5455 26.25 22.6155V11.0117C25.9513 11.1592 25.62 11.2505 25.2638 11.2505H22.5V22.5005C24.3387 22.5005 25.5725 22.5005 25.625 22.5005Z"
          fill="#3E5155"
        />
        <path
          d="M4.375 22.5005C4.4275 22.5005 5.66125 22.5005 7.5 22.5005V11.2505H4.73625C4.38 11.2505 4.04875 11.1592 3.75 11.0117V22.6155C3.94625 22.5455 4.155 22.5005 4.375 22.5005Z"
          fill="#3E5155"
        />
        <path
          d="M17.9727 18.3566C17.9727 15.1191 14.3989 15.5616 14.3989 13.8741C14.3989 12.8803 15.1802 12.7753 15.4502 12.7753C15.7164 12.7753 15.9527 12.8391 16.1527 12.9291C16.6227 13.1416 17.1802 12.9441 17.4777 12.5228C17.8589 11.9828 17.6614 11.2241 17.0589 10.9528C16.7289 10.8041 16.3164 10.6841 15.8164 10.6366V10.1666C15.8164 9.73406 15.4652 9.38281 15.0327 9.38281C14.6002 9.38281 14.2489 9.73406 14.2489 10.1666V10.8016C12.9377 11.2391 12.0852 12.4391 12.0852 13.9753C12.0852 17.3728 15.6152 16.7591 15.6152 18.5253C15.6152 18.8653 15.4539 19.6066 14.5789 19.6066C14.1902 19.6066 13.8539 19.4966 13.5802 19.3541C13.1164 19.1116 12.5402 19.2903 12.2439 19.7228L12.2127 19.7691C11.8702 20.2691 12.0089 20.9691 12.5352 21.2678C12.9777 21.5191 13.5189 21.7141 14.1727 21.7828V22.3328C14.1727 22.7653 14.5239 23.1166 14.9564 23.1166C15.3889 23.1166 15.7402 22.7653 15.7402 22.3328V21.6416C17.1914 21.1978 17.9727 19.8753 17.9727 18.3566Z"
          fill="#3E5155"
        />
      </svg>
    ),
    title: "USD savings account",
    desc: "Save for your future goals in US Dollars.",
  },
  {
    svg: (
      <svg
        width="30"
        height="30"
        viewBox="0 0 30 30"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M17.1212 16.5028C17.1212 14.1928 14.5712 14.5078 14.5712 13.3041C14.5712 12.5953 15.1287 12.5203 15.3212 12.5203C15.5112 12.5203 15.6799 12.5653 15.8224 12.6303C16.1574 12.7816 16.5549 12.6416 16.7674 12.3403C17.0399 11.9553 16.8987 11.4141 16.4687 11.2203C16.2324 11.1141 15.9387 11.0291 15.5824 10.9953V10.6603C15.5824 10.3516 15.3324 10.1016 15.0237 10.1016C14.7149 10.1016 14.4649 10.3516 14.4649 10.6603V11.1128C13.5287 11.4253 12.9212 12.2816 12.9212 13.3778C12.9212 15.8016 15.4399 15.3641 15.4399 16.6241C15.4399 16.8666 15.3249 17.3953 14.6999 17.3953C14.4224 17.3953 14.1824 17.3166 13.9874 17.2153C13.6562 17.0416 13.2449 17.1703 13.0337 17.4791L13.0112 17.5116C12.7674 17.8678 12.8662 18.3678 13.2412 18.5816C13.5574 18.7603 13.9437 18.9003 14.4087 18.9491V19.3416C14.4087 19.6503 14.6587 19.9003 14.9674 19.9003C15.2762 19.9003 15.5262 19.6503 15.5262 19.3416V18.8491C16.5637 18.5303 17.1212 17.5866 17.1212 16.5028Z"
          fill="black"
        />
        <g opacity="0.45">
          <path
            d="M26.4949 7.70625L25.5674 8.295C25.4561 8.12125 25.3186 7.96125 25.1986 7.7925C25.1749 7.755 25.1586 7.715 25.1324 7.67875C25.0799 7.60625 25.0161 7.5425 24.9624 7.47125C24.7699 7.21875 24.5711 6.9725 24.3586 6.73375C24.2011 6.55625 24.0361 6.3875 23.8699 6.22C23.6936 6.04375 23.5186 5.86875 23.3311 5.7025C23.0736 5.4725 22.8049 5.26125 22.5311 5.055C22.4124 4.96625 22.3011 4.87375 22.1786 4.78875C20.0961 3.3275 17.5961 2.5 14.9999 2.5C12.2349 2.5 9.59238 3.53625 7.14613 5.5825C6.08613 6.4675 5.94613 8.045 6.83238 9.10375C7.71738 10.1625 9.29488 10.3038 10.3536 9.4175C11.8974 8.1275 13.4161 7.5 14.9999 7.5C15.2049 7.5 15.4074 7.52 15.6099 7.53625C15.6599 7.54375 15.7049 7.5625 15.7549 7.5675C16.2274 7.61125 16.6999 7.7 17.1661 7.835C17.1699 7.83625 17.1736 7.8375 17.1786 7.83875C17.3836 7.89875 17.5874 7.97125 17.7899 8.05C17.9286 8.10625 18.0661 8.1675 18.2011 8.23125C18.2836 8.26875 18.3674 8.30375 18.4486 8.345C18.6724 8.46125 18.8886 8.59 19.0999 8.7275C19.1274 8.745 19.1549 8.76 19.1824 8.7775C19.9099 9.26625 20.5574 9.8825 21.0824 10.61C21.1149 10.655 21.1586 10.6875 21.1936 10.73C21.2486 10.8087 21.3124 10.8813 21.3636 10.9613L20.3911 11.5787C19.8211 11.94 19.9711 12.8088 20.6286 12.96L25.3024 14.0287C25.8974 14.165 26.4886 13.79 26.6186 13.1938L27.6424 8.51C27.7874 7.85125 27.0649 7.345 26.4949 7.70625Z"
            fill="#CE4848"
          />
          <path
            d="M23.9663 19.2249C22.8476 18.4149 21.2838 18.6649 20.4751 19.7836C19.0963 21.6886 17.4588 22.4999 15.0001 22.4999C14.6563 22.4999 14.3213 22.4524 13.9863 22.4074C13.9688 22.4049 13.9526 22.3961 13.9338 22.3936C13.7088 22.3636 13.4838 22.3224 13.2601 22.2711C13.0051 22.2099 12.7513 22.1436 12.5026 22.0561C12.0513 21.9011 11.6076 21.7024 11.1788 21.4549C10.0163 20.7836 9.10633 19.8486 8.47133 18.7699L9.46883 18.1936C10.0526 17.8561 9.94008 16.9824 9.28883 16.8036L4.66383 15.5411C4.07508 15.3799 3.46883 15.7311 3.31383 16.3211L2.09508 20.9586C1.92383 21.6111 2.62508 22.1461 3.20883 21.8086L4.16133 21.2574C5.22008 23.0686 6.74258 24.6411 8.69008 25.7661C9.13258 26.0224 9.58633 26.2386 10.0451 26.4349C10.1826 26.5224 10.3313 26.5986 10.4888 26.6599C11.9288 27.2161 13.4463 27.4999 15.0001 27.4999C19.0788 27.4999 22.1938 25.9349 24.5251 22.7161C25.3351 21.5974 25.0838 20.0336 23.9663 19.2249Z"
            fill="#5C8653"
          />
        </g>
      </svg>
    ),
    title: "Send and receive money",
    desc: "Send and receive money instantly.",
  },
  {
    svg: (
      <svg
        width="30"
        height="30"
        viewBox="0 0 30 30"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          opacity="0.5"
          d="M18.7501 10.0006C18.5276 10.0006 18.3089 10.0181 18.0901 10.0344C17.5139 6.77562 14.6739 4.29688 11.2501 4.29688C7.41014 4.29688 4.29639 7.40937 4.29639 11.2506C4.29639 14.6744 6.77389 17.5144 10.0326 18.0906C10.0176 18.3094 10.0001 18.5281 10.0001 18.7506C10.0001 23.5831 13.9176 27.5006 18.7501 27.5006C23.5826 27.5006 27.5001 23.5831 27.5001 18.7506C27.5001 13.9181 23.5826 10.0006 18.7501 10.0006Z"
          fill="#DDCE44"
        />
        <path
          d="M11.25 2.5C6.4175 2.5 2.5 6.4175 2.5 11.25C2.5 15.6862 5.805 19.3438 10.0863 19.9137C10.035 19.5325 10 19.145 10 18.75C10 17.925 10.1225 17.1287 10.3363 16.3725C9.80375 16.3 9.3475 16.1425 8.97625 15.9325C8.49875 15.6613 8.37375 15.0275 8.68375 14.575L8.7125 14.5337C8.98 14.1425 9.5025 13.98 9.9225 14.2C10.17 14.33 10.4738 14.4288 10.8263 14.4288C10.98 14.4288 11.0913 14.3863 11.2 14.3438C11.37 14.0538 11.5563 13.775 11.7575 13.5063C11.7587 13.4888 11.765 13.465 11.765 13.45C11.765 11.85 8.56875 12.4062 8.56875 9.32875C8.56875 7.9375 9.34125 6.85 10.5288 6.455V5.88C10.5288 5.48875 10.8463 5.17 11.2388 5.17C11.63 5.17 11.9487 5.4875 11.9487 5.88V6.30625C12.4012 6.34875 12.7737 6.4575 13.0737 6.5925C13.6187 6.83875 13.7975 7.525 13.4525 8.01375C13.1825 8.395 12.6788 8.57375 12.2525 8.38125C12.07 8.2975 11.8562 8.24 11.615 8.24C11.3713 8.24 10.6625 8.335 10.6625 9.235C10.6625 10.4212 12.6087 10.4512 13.4812 11.7762C14.9487 10.6662 16.7688 10 18.75 10C19.145 10 19.5325 10.035 19.9137 10.0863C19.3438 5.805 15.6862 2.5 11.25 2.5Z"
          fill="#B99C33"
        />
        <path
          d="M25.3264 3.28283L22.8927 5.69283C22.5827 5.99908 22.5827 6.50033 22.8927 6.80658L25.3264 9.21658C25.6689 9.55658 26.2502 9.31408 26.2502 8.83158V3.66908C26.2502 3.18658 25.6689 2.94408 25.3264 3.28283Z"
          fill="#B99C33"
        />
        <path
          d="M4.67375 26.7174L7.1075 24.3074C7.4175 24.0012 7.4175 23.4999 7.1075 23.1937L4.67375 20.7837C4.33125 20.4437 3.75 20.6862 3.75 21.1687V26.3324C3.75 26.8137 4.33125 27.0562 4.67375 26.7174Z"
          fill="#B99C33"
        />
        <path
          d="M19.8775 15.5187C18.6938 15.5187 18.33 16.48 18.215 16.9537H19.955C20.39 16.9537 20.7075 17.365 20.5975 17.7863C20.5213 18.0775 20.2575 18.2812 19.955 18.2812H17.9213C17.9025 18.3612 17.8938 18.665 17.8938 18.7363C17.8938 18.8075 17.8975 19.1063 17.9063 19.1788H19.4975C19.925 19.1788 20.24 19.5763 20.1438 19.9925C20.0738 20.2925 19.8063 20.505 19.4975 20.505H18.12C18.2188 20.9525 18.5925 21.8987 19.7825 21.8987C19.915 21.8987 20.045 21.8875 20.1688 21.8688C20.64 21.7975 21.0738 22.1425 21.1375 22.615L21.1475 22.6887C21.2088 23.14 20.915 23.5663 20.4688 23.6575C20.2138 23.7113 19.8975 23.75 19.5288 23.75C16.66 23.75 16.0788 21.0062 15.99 20.505H15.6075C15.1775 20.505 14.8613 20.1025 14.9638 19.685C15.0363 19.3875 15.3025 19.1788 15.6075 19.1788H15.87C15.8613 19.1063 15.8575 18.8088 15.8575 18.7363C15.8575 18.6738 15.8613 18.36 15.87 18.2812H15.6075C15.1775 18.2812 14.8625 17.8788 14.9638 17.4625V17.4612C15.0363 17.1637 15.3025 16.955 15.6075 16.955H16.0163C16.2675 15.8813 17.0088 13.75 19.7963 13.75C20.0338 13.75 20.29 13.7775 20.5288 13.8175C21.0325 13.9012 21.35 14.405 21.22 14.8975C21.1113 15.31 20.7225 15.5875 20.2988 15.5412C20.1763 15.5275 20.0363 15.5187 19.8775 15.5187Z"
          fill="#B99C33"
        />
      </svg>
    ),
    title: "Multi-Currency Support",
    desc: "Swap USD to your local currency.",
  },
  {
    svg: (
      <svg
        width="30"
        height="30"
        viewBox="0 0 30 30"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          opacity="0.45"
          d="M25 3.75H5C3.61875 3.75 2.5 4.86875 2.5 6.25V16.25C2.5 17.6313 3.61875 18.75 5 18.75H25C26.3813 18.75 27.5 17.6313 27.5 16.25V6.25C27.5 4.86875 26.3813 3.75 25 3.75Z"
          fill="#82B378"
        />
        <path
          d="M15 16.25C17.4162 16.25 19.375 14.0114 19.375 11.25C19.375 8.48858 17.4162 6.25 15 6.25C12.5838 6.25 10.625 8.48858 10.625 11.25C10.625 14.0114 12.5838 16.25 15 16.25Z"
          fill="#3E5155"
        />
        <path
          d="M23.75 12.5C24.4404 12.5 25 11.9404 25 11.25C25 10.5596 24.4404 10 23.75 10C23.0596 10 22.5 10.5596 22.5 11.25C22.5 11.9404 23.0596 12.5 23.75 12.5Z"
          fill="#3E5155"
        />
        <path
          d="M6.25 12.5C6.94036 12.5 7.5 11.9404 7.5 11.25C7.5 10.5596 6.94036 10 6.25 10C5.55964 10 5 10.5596 5 11.25C5 11.9404 5.55964 12.5 6.25 12.5Z"
          fill="#3E5155"
        />
        <path
          d="M12.5 18.75V23.75C12.5 25.1312 13.6187 26.25 15 26.25C16.3812 26.25 17.5 25.1312 17.5 23.75V18.75H12.5Z"
          fill="#F86D50"
        />
        <path
          d="M10.8688 22.5C10.0975 22.5 9.71003 23.43 10.2525 23.9775L14.1088 27.87C14.6 28.365 15.4 28.365 15.8913 27.87L19.7475 23.9775C20.29 23.43 19.9013 22.5 19.1313 22.5H10.8688Z"
          fill="#F86D50"
        />
      </svg>
    ),
    title: "Request money",
    desc: "Easily request money from friends and family.",
  },

  {
    svg: (
      <svg
        width="30"
        height="30"
        viewBox="0 0 30 30"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          opacity="0.45"
          d="M26.1 13.75H25V6.25C25 4.17875 23.3212 2.5 21.25 2.5H8.75C6.67875 2.5 5 4.17875 5 6.25V23.75C5 25.8212 6.67875 27.5 8.75 27.5H25C26.3813 27.5 27.5 26.3813 27.5 25V15.15C27.5 14.3775 26.8725 13.75 26.1 13.75Z"
          fill="#E7BD61"
        />
        <path
          d="M18.125 5H11.875C10.8388 5 10 4.16 10 3.125C10 2.09 10.8388 1.25 11.875 1.25H18.125C19.1613 1.25 20 2.09 20 3.125C20 4.16 19.1613 5 18.125 5Z"
          fill="#3E5155"
        />
        <path
          d="M12.5 8.75C10.4288 8.75 8.75 10.4288 8.75 12.5C8.75 14.5712 10.4288 16.25 12.5 16.25C14.5712 16.25 16.25 14.5712 16.25 12.5H12.5V8.75Z"
          fill="#A5231B"
        />
        <path
          d="M13.75 7.5V11.25H17.5C17.5 9.17875 15.8212 7.5 13.75 7.5Z"
          fill="#A5231B"
        />
        <path
          d="M26.25 12.5H20C18.6187 12.5 17.5 13.6187 17.5 15V25C17.5 26.3813 18.6187 27.5 20 27.5H26.25C27.6313 27.5 28.75 26.3813 28.75 25V15C28.75 13.6187 27.6313 12.5 26.25 12.5ZM21.25 25C20.56 25 20 24.44 20 23.75C20 23.06 20.56 22.5 21.25 22.5C21.94 22.5 22.5 23.06 22.5 23.75C22.5 24.44 21.94 25 21.25 25ZM21.25 21.25C20.56 21.25 20 20.69 20 20C20 19.31 20.56 18.75 21.25 18.75C21.94 18.75 22.5 19.31 22.5 20C22.5 20.69 21.94 21.25 21.25 21.25ZM25 25C24.31 25 23.75 24.44 23.75 23.75C23.75 23.06 24.31 22.5 25 22.5C25.69 22.5 26.25 23.06 26.25 23.75C26.25 24.44 25.69 25 25 25ZM25 21.25C24.31 21.25 23.75 20.69 23.75 20C23.75 19.31 24.31 18.75 25 18.75C25.69 18.75 26.25 19.31 26.25 20C26.25 20.69 25.69 21.25 25 21.25ZM25 17.5C24.7675 17.5 21.4825 17.5 21.25 17.5C20.56 17.5 20 16.94 20 16.25C20 15.56 20.56 15 21.25 15C21.4825 15 24.7675 15 25 15C25.69 15 26.25 15.56 26.25 16.25C26.25 16.94 25.69 17.5 25 17.5Z"
          fill="#984144"
        />
      </svg>
    ),
    title: "Budget tracking",
    desc: "Track your spending by month or week",
  },
];

const PaySuccess = ({ data, senderName }: Props) => {
  const [showReceipt, setShowReceipt] = useState(false);
  const { transactionDetail } = useSendStore();

  const closeReceipt = () => {
    setShowReceipt(false);
  };

  useEffect(() => {
    const container = document.getElementById("payment-scroll-container");

    if (container) {
      container.scrollTo({
        top: 0,
        behavior: "smooth",
      });
    }
  }, []);

  return (
    <div className="w-full flex flex-col h-full md:mt-11 ">
      <div className="flex flex-col justify-between h-full  w-full">
        <div>
          <motion.svg
            width="40"
            height="40"
            viewBox="0 0 40 40"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
            initial={{ scale: 0, rotate: -180 }}
            animate={{ scale: 1, rotate: 0 }}
            transition={{
              type: "spring",
              stiffness: 260,
              damping: 20,
              duration: 0.6,
            }}
            className={`mx-auto my-3`}
          >
            {/* Badge background */}
            <motion.path
              d="M19.9998 1.66669L23.7548 5.85752L29.1665 4.16669L30.3873 9.61252L35.8332 10.8334L34.1665 16.245L38.3332 20L34.1665 23.755L35.8332 29.1667L30.3873 30.3875L29.1665 35.8334L23.7548 34.1425L19.9998 38.3334L16.2448 34.1425L10.8332 35.8334L9.61234 30.3875L4.1665 29.1667L5.83317 23.755L1.6665 20L5.83317 16.245L4.1665 10.8334L9.61234 9.61252L10.8332 4.16669L16.2448 5.85752L19.9998 1.66669Z"
              fill="#8BC34A"
              initial={{ scale: 0 }}
              animate={{ scale: 1 }}
              transition={{
                delay: 0.2,
                type: "spring",
                stiffness: 200,
                damping: 15,
              }}
            />

            {/* Checkmark */}
            <motion.path
              d="M28.8351 12.1683L17.5001 23.4992L12.8318 18.8342L10.501 21.165L17.5001 28.1675L31.1651 14.4992L28.8351 12.1683Z"
              fill="#CCFF90"
              initial={{ pathLength: 0, opacity: 0 }}
              animate={{ pathLength: 1, opacity: 1 }}
              transition={{
                delay: 0.5,
                duration: 0.5,
                ease: "easeInOut",
              }}
            />
          </motion.svg>
          <div className="mb-4 md:mb-10 text-center w-full">
            <h2 className="text-raiz-gray-950 text-lg text-center  font-semibold  md:leading-10">
              {getCurrencySymbol(transactionDetail?.currency || "")}
              {transactionDetail?.transaction_amount.toLocaleString()} Sent to{" "}
              {`${data?.account_user?.account_name}`}
            </h2>
            <p className="text-raiz-gray-700 text-sm text-center ">
              Success! The user has received your payment{" "}
            </p>
          </div>
          {/* <h3 className="text-raiz-gray-950 text-base font-semibold  leading-[21.6px]">
            Do more. Get more. Raiz AM.
          </h3>
          <p className="text-sm text-raiz-gray-950">
            Check out everything you unlock with the app. ðŸŒŸðŸ’°
          </p> */}
          <div className="flex flex-col mt-4 md:mt-8  gap-4 xl:gap-6 p-5 md:p-[30px] rounded-[20px] border-2 border-[#F3F1F6] bg-white">
            {GetRaizedinfo.map((each, index) => (
              <div key={index} className="flex gap-4">
                {each.svg}
                <div className="flex flex-col gap-1">
                  <p className=" text-raiz-gray-900 text-sm font-bold  leading-[16.80px]">
                    {each.title}
                  </p>
                  <p className="text-raiz-gray-600 text-[13px] font-normal  leading-tight">
                    {each.desc}
                  </p>
                </div>
              </div>
            ))}
          </div>
        </div>
        <div className="flex flex-col gap-3 mt-8">
          {/* <div className="p-5 bg-indigo-100/60 rounded-[20px] inline-flex justify-start items-center gap-4">
            <div className="text-zinc-900 text-xs leading-tight flex items-center">
              Use code <span className="font-semibold mx-1.5">KHADARO12</span>{" "}
              to get 10% off first transfer, only{" "}
              <span className="font-semibold mr-1.5">14:59</span> left!
              <button onClick={() => copyToClipboard("KHADARO12")}>
                <Image
                  src={"/icons/copy.svg"}
                  alt={"copy"}
                  width={16}
                  height={16}
                />
              </button>
            </div>
          </div> */}
          <Link
            href={"https://raizapp.onelink.me/RiOx/webdirect"}
            target="_blank"
          >
            <Button variant="primary">Download Raiz App</Button>{" "}
          </Link>
          <Button variant="secondary" onClick={() => setShowReceipt(true)}>
            View Receipt
          </Button>
        </div>
      </div>
      {showReceipt && transactionDetail && (
        <SideModalWrapper close={() => {}}>
          <RaizReceipt
            close={closeReceipt}
            data={transactionDetail}
            type="guest"
            senderName={senderName}
            beneficiaryName={`${data?.account_user?.account_name}`}
          />
        </SideModalWrapper>
      )}
    </div>
  );
};

export default PaySuccess;
